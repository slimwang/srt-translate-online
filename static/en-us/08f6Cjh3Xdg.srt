1
00:00:00,280 --> 00:00:05,100
So let's see if we understood how
test and atomic-op logs work.

2
00:00:05,100 --> 00:00:07,820
Remember our original code for
load links for

3
00:00:07,820 --> 00:00:12,140
conditional locks which loads
the previous state of the lock,

4
00:00:12,140 --> 00:00:16,910
tries to put one into the lock and
then checks whether we

5
00:00:16,910 --> 00:00:22,380
observe the unlock state of the lock and
whether we successfully grab the lock.

6
00:00:22,380 --> 00:00:26,180
So if we apply the test
an automatic approach to this.

7
00:00:26,180 --> 00:00:30,430
Amazingly we do that by just
rearranging these instructions.

8
00:00:31,470 --> 00:00:34,950
The first two instructions
are exactly the same.

9
00:00:34,950 --> 00:00:39,000
And then in what order do we use
the remaining three instructions?

10
00:00:39,000 --> 00:00:41,430
Instead of writing out the instruction,

11
00:00:41,430 --> 00:00:46,980
just say which of these is
instruction A, B, and C.
