1
00:00:00,170 --> 00:00:03,980
Let's look at the solution to our Predictor Impact Quiz where we considered

2
00:00:03,980 --> 00:00:09,230
the Intel Pentium 4 Prescott processor, that spends 30 cycles until it finally

3
00:00:09,230 --> 00:00:13,780
resolves branches. Uses branch prediction and multiple instructions per cycle,

4
00:00:13,780 --> 00:00:17,755
so that in a program where 20% of instructions are branches, and

5
00:00:17,755 --> 00:00:24,400
where 1% of branches are mispredicted, it gets a CPI of 0.5 overall.

6
00:00:24,400 --> 00:00:30,400
In this CPI, we are getting some ideal CPI plus,

7
00:00:30,400 --> 00:00:34,770
for branches that we mispredict 1% of the time,

8
00:00:34,770 --> 00:00:41,790
we pay a 30 cycle penalty, because we resolve branches really in the 31st cycle.

9
00:00:41,790 --> 00:00:46,960
And that means that the ideal CPI is equal to

10
00:00:46,960 --> 00:00:53,450
the actual CPI we are getting, minus the CPI penalty from branches.

11
00:00:53,450 --> 00:00:59,060
And if we multiply this out, we get 0.06. So x here,

12
00:00:59,060 --> 00:01:04,527
the ideal CPI with a perfect branch predictor, would be 0.44.

13
00:01:04,527 --> 00:01:13,120
Now when 2% of branches are mispredicted, our CPI will be equal to x plus,

14
00:01:13,120 --> 00:01:18,040
for branches we mispredict 2% of the time. And

15
00:01:18,040 --> 00:01:24,640
we pay a 30-cycle penalty, so we get 0.44 plus this,

16
00:01:24,640 --> 00:01:31,460
which multiplies out to 0.12, for an overall CPI now of 0.56.

17
00:01:31,460 --> 00:01:37,780
So the key to solving this again was that we were given the actual CPI.

18
00:01:37,780 --> 00:01:44,010
We needed to compute what the ideal CPI is after we remove the branch penalty.

19
00:01:44,010 --> 00:01:46,710
And then, we compute the new branch penalty and

20
00:01:46,710 --> 00:01:49,880
add it to this ideal CPI to get this answer.
