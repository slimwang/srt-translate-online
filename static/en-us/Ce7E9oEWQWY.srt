1
00:00:00,420 --> 00:00:02,370
Okay, so now you have a list of friends.

2
00:00:02,370 --> 00:00:04,842
But not the ability to share
lists with those friends.

3
00:00:04,842 --> 00:00:08,430
I'm going to split up the actual
sharing code into two parts.

4
00:00:08,430 --> 00:00:11,220
The first thing we'll do is to simply
keep track of who is shared on

5
00:00:11,220 --> 00:00:12,340
what list.

6
00:00:12,340 --> 00:00:15,550
The second part, is making sure
that when a user is shared,

7
00:00:15,550 --> 00:00:18,330
they get a copy of the list
in their own user lists.

8
00:00:18,330 --> 00:00:21,720
And then on top of that,
whenever a list anywhere is updated,

9
00:00:21,720 --> 00:00:24,900
that all of the copies of that
list are simultaneously updated.

10
00:00:24,900 --> 00:00:26,680
Let's start by focusing
on this first part.

11
00:00:26,680 --> 00:00:28,890
Okay, so
here we are back at the sharing flow.

12
00:00:28,890 --> 00:00:31,270
And we're going to focus on the share
list activity specifically,

13
00:00:31,270 --> 00:00:32,950
because we already dealt
with how to add friends.

14
00:00:32,950 --> 00:00:36,180
When I press the great plus button here,
there needs to be a change in both

15
00:00:36,180 --> 00:00:39,590
the UI of the share list activity and
the data in the database.

16
00:00:39,590 --> 00:00:41,230
So let's talk about what
the change will look like.

17
00:00:41,230 --> 00:00:42,960
Well for
the UI that change is pretty easy.

18
00:00:42,960 --> 00:00:45,570
I'll see green check next to
the name of the person that I just

19
00:00:45,570 --> 00:00:46,740
shared the list with.

20
00:00:46,740 --> 00:00:47,840
In the database,

21
00:00:47,840 --> 00:00:50,960
you're going to be changing around
what is in the shared with a list.

22
00:00:50,960 --> 00:00:52,210
We can see the change here.

23
00:00:52,210 --> 00:00:53,410
Since I added Lyla,

24
00:00:53,410 --> 00:00:57,220
in shared with under the same push
ID as the list I'm interested in.

25
00:00:57,220 --> 00:00:57,880
So right here.

26
00:00:57,880 --> 00:01:00,660
We have the user data for
the user that I just shared with.

27
00:01:00,660 --> 00:01:03,910
So basically, when you press this plus
button, it should add that user's

28
00:01:03,910 --> 00:01:07,410
user data to the Shared With list for
the shopping list that you're sharing.

29
00:01:07,410 --> 00:01:10,230
And again, that shopping list is
specified by the push ID here.

30
00:01:10,230 --> 00:01:13,300
And when you press the button again, it
should remove that user from the shared

31
00:01:13,300 --> 00:01:16,690
list, and
put the UI back to the gray plus button.

32
00:01:16,690 --> 00:01:18,330
Alright, hopefully that's enough for
you to get started.

33
00:01:18,330 --> 00:01:19,460
I'll send over the spec right away.
