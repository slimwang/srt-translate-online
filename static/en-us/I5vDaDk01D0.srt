1
00:00:00,220 --> 00:00:04,330
We said that we will explain why we need a better predictor in two ways.

2
00:00:04,330 --> 00:00:10,780
This was one way, the CPI gets a lot better. The other way will be to see

3
00:00:10,780 --> 00:00:15,790
how much waste there is from a mis-prediction. So in a five stage pipeline,

4
00:00:15,790 --> 00:00:20,220
what's happening really we have three stages that are relevent.

5
00:00:20,220 --> 00:00:24,020
The one where we re, resolve the branches. And then we have to destroy two

6
00:00:24,020 --> 00:00:27,608
instructions that we have fetched if this branch has been mis-predicted. So

7
00:00:27,608 --> 00:00:32,850
a mis-prediction costs us two instructions here. In a deeper pipeline,

8
00:00:32,850 --> 00:00:37,240
what happens is, we have our branch, and for ten cycles, we have been fetching

9
00:00:37,240 --> 00:00:42,769
things. Some a mis-prediction now costs us ten instructions worth of work,

10
00:00:42,769 --> 00:00:48,650
and that means that avoiding mis-predictions becomes more important. And

11
00:00:48,650 --> 00:00:52,940
finally, when we have a four instruction per cycle processor that

12
00:00:52,940 --> 00:00:58,130
resolves branches in the 11th stage. After we gave fetched this branch,

13
00:00:58,130 --> 00:01:02,910
we have fetched a lot of instructions. After we fetch the branch, we fetched

14
00:01:02,910 --> 00:01:07,660
four instructions in the next cycle, and four instructions in the next cycle. So

15
00:01:07,660 --> 00:01:14,110
now when we miss predict a branch we waste 40 instructions that we

16
00:01:14,110 --> 00:01:18,220
could have done if the prediction was correct. So the cost of a mis-prediction

17
00:01:18,220 --> 00:01:22,760
is higher in terms of instructions that we have just wasted. And

18
00:01:22,760 --> 00:01:27,730
that means that again it's much more important to predict branches correctly.
