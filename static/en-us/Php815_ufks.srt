1
00:00:00,180 --> 00:00:03,370
Now that we have seen Pshare and Gshare, let's

2
00:00:03,370 --> 00:00:05,320
do a quiz about them. Let's say that we

3
00:00:05,320 --> 00:00:07,860
have this fragment of C code, where I goes

4
00:00:07,860 --> 00:00:12,020
from 1,000 down to zero. And for odd number

5
00:00:12,020 --> 00:00:17,990
I's, we are going to add the I to N, otherwise we just don't do it. This code

6
00:00:17,990 --> 00:00:21,758
might translate into a similar program like this. This

7
00:00:21,758 --> 00:00:24,956
branch here is the test for exiting this loop,

8
00:00:24,956 --> 00:00:27,896
when r1 is zero. This is testing the

9
00:00:27,896 --> 00:00:32,000
least significant bit of r1. And if that bit

10
00:00:32,000 --> 00:00:37,080
is zero, that means we have an even number, so we jump to the even label. If the

11
00:00:37,080 --> 00:00:39,680
number is odd then we add it to R3

12
00:00:39,680 --> 00:00:43,280
which in this case is representing n. Either way

13
00:00:43,280 --> 00:00:46,590
we decrement the R1, this is the I minus,

14
00:00:46,590 --> 00:00:50,610
minus and we unconditionally branch back to the loop.

15
00:00:50,610 --> 00:00:54,760
And the exit label for exiting the loop is here. If we want to get good

16
00:00:54,760 --> 00:00:56,780
accuracy on all of the branches in this

17
00:00:56,780 --> 00:00:59,150
code, then the history should be how much for

18
00:00:59,150 --> 00:01:01,920
Pshare, write the number here, and for Gshare,

19
00:01:01,920 --> 00:01:04,298
write the number here. So we're just talking about

20
00:01:04,298 --> 00:01:06,008
how many bits of history we need, to

21
00:01:06,008 --> 00:01:08,760
get good prediction accuracy for all of these branches.
