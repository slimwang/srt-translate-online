1
00:00:00,100 --> 00:00:03,670
Let us see if we can do some full predication of our own.

2
00:00:03,670 --> 00:00:09,300
Suppose that this is the original code where we check if R2 is equal to 0.

3
00:00:09,300 --> 00:00:16,670
If it is we jump here and decrement our R1 by 1. If R2 is not 0,

4
00:00:16,670 --> 00:00:21,450
then we continue increment R1 by 1 and

5
00:00:21,450 --> 00:00:28,020
then go out. So after if conversion with full predication we get this.

6
00:00:28,020 --> 00:00:36,170
First we set predicates P1 and P2 according to whether R2 is equal to 0.

7
00:00:36,170 --> 00:00:42,139
And remember that this one will be set. If R2 is equal to 0,

8
00:00:42,139 --> 00:00:47,249
and this one is set if R2 is not equal to 0. So

9
00:00:47,249 --> 00:00:52,540
they are opposite predicates. This one is set if R2 is equal to 0.

10
00:00:52,540 --> 00:00:57,540
The actual question for you is what goes into the predicate for

11
00:00:57,540 --> 00:01:02,146
the next instruction. And the predicate for the next instruction after that.

12
00:01:02,146 --> 00:01:07,884
And then, the two instructions are add R1, R1,

13
00:01:07,884 --> 00:01:13,630
1 and add R1, R1 minus 1. So what are the predicates here?

14
00:01:13,630 --> 00:01:20,330
Also, if we assume that this code gets us a CPI of 0.5 without mispredictions.

15
00:01:20,330 --> 00:01:23,680
And that the misprediction penalty is ten cycles.

16
00:01:23,680 --> 00:01:28,880
Then we should do the if conversion if the branch equals 0 here

17
00:01:28,880 --> 00:01:33,730
is predicted below what accuracy. So doing conversion if

18
00:01:33,730 --> 00:01:37,980
branch equals 0 prediction is less than what percentage correct.
