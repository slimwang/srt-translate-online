1
00:00:00,300 --> 00:00:03,900
So now let's try our hand
at the moesi protocol.

2
00:00:03,900 --> 00:00:08,140
Suppose we have three cores
maintain moesi coherence.

3
00:00:08,140 --> 00:00:12,630
And the variable x starts
out by only being in memory.

4
00:00:12,630 --> 00:00:15,380
So it's not in any of the caches.

5
00:00:15,380 --> 00:00:18,120
So we have our three cores C0,
C1 and C2.

6
00:00:19,300 --> 00:00:24,190
And the first access that
happens is read x on core zero.

7
00:00:24,190 --> 00:00:29,510
What is the new state of this block in
the cache that belongs to this core?

8
00:00:29,510 --> 00:00:36,920
Next C1 does read X, what is the new
state of the block on this core and

9
00:00:36,920 --> 00:00:41,720
what is the state of this block on
C0 after C1 is done with this read?

10
00:00:41,720 --> 00:00:43,980
Now C2 does read x.

11
00:00:43,980 --> 00:00:47,080
What is it's new state for this block?

12
00:00:47,080 --> 00:00:51,100
And what is the new state of
this block in C1's cache?

13
00:00:51,100 --> 00:00:53,070
Or does it just stay the same?

14
00:00:53,070 --> 00:00:57,535
And finally C1 there's a write to x.

15
00:00:57,535 --> 00:01:00,873
What is the new state of
the block in C1's cache?

16
00:01:00,873 --> 00:01:03,565
In C2's cache?

17
00:01:03,565 --> 00:01:05,254
And in the cache of core C0.
