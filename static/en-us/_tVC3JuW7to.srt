1
00:00:00,160 --> 00:00:05,450
And the other field that will be good to transform for all of our data,

2
00:00:05,450 --> 00:00:08,720
is the attendance field, which is stored as a string.

3
00:00:09,720 --> 00:00:13,150
In this case, we transform the attendance field and

4
00:00:13,150 --> 00:00:17,980
then overwrite the value on that same JavaScript object, in this case D.

5
00:00:19,120 --> 00:00:21,998
And then we return D, which gets passed into the function.

6
00:00:21,998 --> 00:00:26,305
So the way to think of this, to go from our initial data file

7
00:00:26,305 --> 00:00:32,580
world_cup_geo.tsv to our draw callback function, which actually draws our chart.

8
00:00:33,770 --> 00:00:40,633
The .tsv function of D3 reads in a row of world_cup_geo.

9
00:00:40,633 --> 00:00:47,330
In this case let's say the date is a string 27-05-1934,

10
00:00:47,330 --> 00:00:53,100
space 1600 hours and the string, 25,000 for the attendance.

11
00:00:53,100 --> 00:00:56,210
It then gets passed to the transformation function.

12
00:00:56,210 --> 00:01:00,130
In this case, an anonymous function that doesn't have a name.

13
00:01:00,130 --> 00:01:03,540
We perform some transformation on that row or

14
00:01:03,540 --> 00:01:05,890
JavaScript object that gets passed to it.

15
00:01:05,890 --> 00:01:09,170
We transform the string that represents the date

16
00:01:09,170 --> 00:01:14,480
using D3's date parsing into a JavaScript date object.

17
00:01:14,480 --> 00:01:17,720
And also transform the string of

18
00:01:17,720 --> 00:01:21,830
the attendance into an integer representation of the attendance.

19
00:01:21,830 --> 00:01:24,840
And then past this new object to the draw fallback.
