1
00:00:00,290 --> 00:00:02,095
So, once again, we're
going to replace

2
00:00:02,095 --> 00:00:04,160
the one remaining part of our test

3
00:00:04,160 --> 00:00:07,270
that still has a standard database.

4
00:00:07,270 --> 00:00:09,460
Let's actually get rid of our database.

5
00:00:09,460 --> 00:00:12,000
That leaves us
with this lonely insert statement.

6
00:00:12,400 --> 00:00:14,793
Once again, like with everything else,

7
00:00:14,793 --> 00:00:17,646
we're going to replace that
with a content resolver call.

8
00:00:18,016 --> 00:00:21,150
And of course we're actually not
going to be inserting the table.

9
00:00:21,150 --> 00:00:23,800
We're going to be inserting
the content URI.

10
00:00:23,900 --> 00:00:25,510
Getting rid of the nulls.

11
00:00:26,660 --> 00:00:28,870
Of course this doesn't
return a location row ID.

12
00:00:30,590 --> 00:00:34,080
That's alright.
We can pull it from the URI.

13
00:00:34,610 --> 00:00:36,970
Using the helper function from content URI's,

14
00:00:37,420 --> 00:00:40,650
we can leave that assert in there,
although it's not necessary.

15
00:00:40,740 --> 00:00:43,390
And the rest of everything should
pretty much be as it always is.

16
00:00:43,390 --> 00:00:46,460
We're no longer using a database at all
within test provider,

17
00:00:46,460 --> 00:00:48,650
but entirely using the content provider.

18
00:00:48,970 --> 00:00:51,668
Let's run our tests and see if they still work.

19
00:00:51,668 --> 00:00:53,571
(silence)

20
00:00:56,121 --> 00:00:58,094
And they all pass.

21
00:00:58,094 --> 00:01:00,637
Congratulations, we now
have a fully functioning

22
00:01:00,637 --> 00:01:02,890
content provider that can both
insert and query.

23
00:01:03,720 --> 00:01:05,770
But, of course, there are other things
you might want to do

24
00:01:05,770 --> 00:01:07,130
with the content provider.

25
00:01:07,130 --> 00:01:08,690
Now, we're not actually going to use

26
00:01:08,690 --> 00:01:10,000
any of these things in Sunshine.

27
00:01:10,000 --> 00:01:12,110
But it's really important to know.

28
00:01:12,110 --> 00:01:14,620
So, I suggest you
actually implement these functions.
