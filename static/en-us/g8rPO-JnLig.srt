1
00:00:00,000 --> 00:00:00,648
Alright.

2
00:00:00,654 --> 00:00:06,001
So, we've written this XMLHttp request code a few times now. Let's go ahead and

3
00:00:06,013 --> 00:00:11,138
extract it out. What I'd like you to do is fill out the function xhrGet that

4
00:00:11,150 --> 00:00:16,472
does, well, exactly what we've done the past couple of times with xhrs. Takes in

5
00:00:16,484 --> 00:00:19,880
the request URI, like weapon.json, or bg_menu.ogg,

6
00:00:19,882 --> 00:00:24,722
it takes in a callback function to set the onload function too and it takes in

7
00:00:24,734 --> 00:00:29,190
a type, which could be either nothing, if we're expecting text data or

8
00:00:29,202 --> 00:00:34,372
arraybuffer, if we are expecting arraybuffer data. Now, one quick note

9
00:00:34,384 --> 00:00:39,504
about the callbacks, we're going to create the callbacks such that we assume that it takes

10
00:00:39,516 --> 00:00:44,637
the request object as a parameter. So, for example, you can see our parseJSON

11
00:00:44,649 --> 00:00:49,903
function here takes the xhr, and then parses xhr.responseText. Now, we have both

12
00:00:49,915 --> 00:00:55,242
the parseJSON and playSound functions here, that if passed in as callbacks, will

13
00:00:55,254 --> 00:01:00,191
appropriately play sound or parseJSON as we've done before. Now, down at the

14
00:01:00,203 --> 00:01:05,780
bottom of this file, we make 2 calls to xhrGet with weapon.json and bg_menu.ogg.

15
00:01:05,782 --> 00:01:10,622
Just for you to test again to make sure that your xhrGet function is behaving

16
00:01:10,622 --> 00:01:11,130
properly.
